---
import type { CollectionEntry } from "astro:content";
import HeadSEO from "../components/HeadSEO.astro";
import CSSPropGenerator from "../components/CSSPropGenerator.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import config from "virtual:astrocraft/user-config";

type Props = {
	data: CollectionEntry<"pages">["data"];
};

const { lang, blockSize } = config;

const { data } = Astro.props;
---

<html
	{lang}
	style={(blockSize && `--mc-block-size:${blockSize}px;`) || null}
>
	<head>
		<HeadSEO {data} />
		<CSSPropGenerator />
		<slot name="head" /></head
	>
	<body class="flex flex-col h-full scrollbar bg-mc-block-stone">
		<Navbar />
		<div class="grow bg-black/75">
			{data.content
				? <div class="h-full max-w-[var(--mc-content-width)] mx-auto p-4 prose">
						<slot />
					</div>
				: <slot />
			}
		</div>
		<Footer />
	</body>
</html>
